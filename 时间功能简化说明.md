# 时间功能简化说明

## 修改概述
根据用户要求，去除了中签时间和卖出时间的具体时分录入功能，只保留日期功能，简化用户操作。

## 修改内容

### 1. 卖出信息页面

#### WXML界面修改
- ✅ 去除"卖出时间（时分）"输入框
- ✅ 保留"卖出日期"选择器
- ✅ 更新标签文字为"卖出日期"

#### JavaScript逻辑修改
- ✅ 去除`formData.sellTime`字段
- ✅ 删除`formatTime()`方法
- ✅ 删除`onTimeChange()`方法
- ✅ 修改默认时间设置，只设置日期
- ✅ 保存时使用固定时间12:00

#### 保存逻辑
```javascript
// 修改前：使用用户选择的具体时间
const sellDateTime = new Date(`${this.data.formData.sellDate} ${this.data.formData.sellTime}`)

// 修改后：使用固定时间12:00
const sellDateTime = new Date(`${this.data.formData.sellDate} 12:00`)
```

### 2. 中签结果页面

#### WXML界面修改
- ✅ 去除"中签时间"输入框
- ✅ 保留"中签日期"选择器

#### JavaScript逻辑修改
- ✅ 去除`formData.winningTime`字段
- ✅ 删除`formatTime()`方法
- ✅ 删除`onTimeChange()`方法
- ✅ 修改默认时间设置，只设置日期
- ✅ 保存时使用固定时间12:00

#### 保存逻辑
```javascript
// 修改前：使用用户选择的具体时间
const winningDateTime = new Date(`${this.data.formData.winningDate} ${this.data.formData.winningTime}`)

// 修改后：使用固定时间12:00
const winningDateTime = new Date(`${this.data.formData.winningDate} 12:00`)
```

## 数据结构变化

### 卖出信息页面
```javascript
// 修改前
formData: {
  sellPrice: '',
  sellShares: '',
  sellDate: '',
  sellTime: ''  // 已删除
}

// 修改后
formData: {
  sellPrice: '',
  sellShares: '',
  sellDate: ''
}
```

### 中签结果页面
```javascript
// 修改前
formData: {
  winningShares: '',
  winningDate: '',
  winningTime: ''  // 已删除
}

// 修改后
formData: {
  winningShares: '',
  winningDate: ''
}
```

## 时间存储策略

### 固定时间设置
- **中签时间**：中签日期 + 12:00（中午12点）
- **卖出时间**：卖出日期 + 12:00（中午12点）

### 优势
1. **简化操作**：用户只需选择日期，无需精确到时分
2. **数据一致性**：所有记录使用统一的时间格式
3. **界面简洁**：减少输入项，提升用户体验

## 向后兼容性

### 数据回显
- 现有记录的时间戳仍然可以正常显示日期部分
- 只是不再显示和编辑具体的时分信息

### 存储格式
- 时间戳格式保持不变，仍然存储完整的日期时间
- 只是新记录统一使用12:00作为时间部分

## 影响的功能

### 不受影响
- ✅ 历史记录的时间显示
- ✅ 数据统计和排序
- ✅ 盈亏计算逻辑
- ✅ 数据导入导出

### 改进效果
- ✅ 录入更快捷
- ✅ 界面更简洁
- ✅ 操作更直观
- ✅ 错误输入更少

---
*修改时间：2025年7月12日*
*版本：v2.0*
*状态：已完成*
